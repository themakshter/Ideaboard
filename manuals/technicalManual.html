<!DOCTYPE html>
<html>
<head>
	<title>Technical Manual</title>
	<meta name="viewport" content="width-device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="stylesheet" href="css/prism.css">
	<script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script src="js/prism.js"></script>
</head>
<body>
	<div class="container">
		<h1>
			Ideaboard Technical Manual
			<br>
			<small>(mak1g11, mrt1g11)</small>
		</h1>
		<h2>Technologies</h2>
		<h2>Architecture</h2>
		<p>We decided to implement a client server architecture, where the client uses a RESTful api to communicate with the server. This is because:</p>
		<ul>
			<li>We wanted the the users to be able to access their notes from anywhere.</li>
			<li>A RESTful api backend is uncoupled from the frontend implementation, this allows any other frontend implementation. This is important as in the future we may build a native mobile application which can use the same backend as the web application.</li>
		</ul>
		<h2>Back end</h2>
		<h2>Front end</h2>
			<h3>User Interface</h3>
			<p>IdeaBoard uses a nautral user interface, a natural user interface is one which is initally invisible, but whilst the user explores the application they discover and learn the supported functions. As such upon first seeing the board the user sees only a series of notes, however, upon hovering over with a mouse they can see UI interface elements to change colour and delete notes. When the user selects text a menu appears under their cursor allowing them to:</p>
			<ul>
				<li>Create bullet points and numbered lists</li>
				<li>Make text bold,underline or italic</li>
				<li>Create heading</li>
				<li>Make links</li>
			</ul>
			<p>Upon hovering over the end of a list or column a user discovers the new note or new column button. All of these appearing interface elements are animated to fade in and out, this is so that the user is not forced into sudden disorientating state changes when editing a board.</p>

			<h3>Frontend libraries</h3>
				<p>One the skill we aimed to improve is the use of javascript libraries for single page applications. With extensive use of libraries for user interface elements we were able to easily implement attractive controls far more easily than if we had coded them ourselves.</p>
				<p>In addition to the libraries used below this page uses <a href="http://prismjs.com">Prismjs</a> to syntax highlight code examples.</p>
				<h4>
					<a href='http://backbonejs.org/'>Backbone.js</a> 
				</h4>
				<h5>Where?</h5>
				<p>To create the in app router allowing history and navigation on a single page web application</p>
				<h5>Why?</h5>
				<p>We wanted to use a lightweight MVC web framework to give structure to our application and Backbone is very lighweight and we had previous experience with it. However, we found using a MVC framework for our site too cumbersone and simply developed it without with the exception of the in app router which we needed for basic functionality.</p>
				<h5>Example</h5>
				<figure>
<!--code blocks cannot be indented otherwise itll mess up formatting -->
<pre>
<code class="language-javascript">
var AppRouter = Backbone.Router.extend(
{
	routes:
	{
		""			: "listBoards",
		"boards/new":"newBoard",
		"boards/:id":"showBoard",
		"*actions": "defaultRoute"
	}
});

var app_router = new AppRouter();
app_router.on('route:showBoard',function(id)
{
	showBoard(id);
});
</code>
</pre>
					<figcaption>The code in main.js used create a router, define its routes and follow the showBoard route.</figcaption>
				</figure>

				<h4><a href='http://jquery.com/'>jQuery</a></h4>
				<h5>Where?</h5>
				<p>Used throughout the applicaton for DOM maninpulation, ajax requests and smoothing over API differences between web browsers.</p>
				<h5>Why?</h5>
				<ul>
					<li>Both our team members had extensive experience with jQuery</li>
					<li>It allows for more concise code (it's marketed as'The Write Less, Do More, JavaScript Library.')</li>
					<li>Its the most commonly used frontend we library so its easy to find help</li>
					<li>Other libraries(jQuery notebook and JQuery color picker) we wanted to use were jQuery extensions</li>
				</ul>
				<h5>Example</h5>
<pre>
<code class="language-javascript">
&lt;!-- DOM manipulation - Creating the divs that hold the notes --&gt;
colContainer.append("<div class=\"notesContainer\">");

&lt;!-- An Ajax call to get the board name and author--&gt;
$.get(apiURL+'/boards/'+boardID,function(data)
{
	$(".userField").text(data.author);
	$(".boardField").text(data.name);
});
</code>
</pre>
				<h4>
					<a href='https://github.com/raphaelcruzeiro/jquery-notebook'>JQuery notebook</a>
				</h4> 
				<h5>Where</h5>
				<p>So that the notes support rich text, when the user highlights a note a bubble allowing editing action applied to the selected text. </p>
				<img src="img/notebook-example.png">
				<h5>Why</h5>
				<p>Used because the editor for jQeuery notebook only appears when text is selected it fulfilled our goal of creating a natural user interface. ALso it allows all the rich text function we wish to use.</p>
				<h5>Example</h5>
				<figcaption>
					<figure>
<pre>
<code class="language-javascript">
$(textArea).notebook();

$(textArea).on('contentChange', function(e)
{
	var textArea = e.originalEvent.target;
	var note = $(textArea).parent();
	var id = note.attr('data-noteID');
	var colID = $(note).parents('.boardColumn').attr('data-columnid');
	updateNote(id,colID,currentBoardID);
});
</code>
</pre>
					</figure>
					<caption>Code used to initialise jQuery Notebook and attach an event listener to update on text changes</caption>
				</figcaption>
				<h5>Problems</h5>
				<p>We encountered incompatabilities between jQuery notebook and Twitter bootstrap with regards to the position of the pop up bubble. Upon discovering this the site already had already been developed using both these libraries. We found however, that these errors only occured when the parent elements of the notebook used relative positioning so it was relatively simple to work around.</p>
				<figure>
					<img src="img/notebook-position.png" class="img-rounded">
					<figcaption>jQuery notebook with relatively positioned columns causing the bubble appear up and to the right of selected text (during development)</figcaption>
				</figure>
				<li><a href='http://getbootstrap.com/'>Twitter Bootstrap</a> for the page layout and design. As we previously had experience</li>
				<li><a href='http://wanderinghorse.net/computing/javascript/jquery/colorpicker/'>JQuery color picker</a> to choose the note colors, slightly modified to pick a different set of colors and add context to the callback function</li>
				<li><a href='http://www.google.com/fonts'>Google Fonts</a> for the Robto Slab and Roboto Condensed fonts</li>
			<h3>Testing</h3>
			<p>We chose to target support for the previous two versions of the four most popular desktop browsers.Because our user interface is not suitable for touch screens we chose not to support mobile browsers.</p>
			<ul>
				<li>Internet Explorer 9+</li>
				<li>Google Chrome 37+</li>
				<li>Firefox 30</li>
				<li>Safari 6.2</li>
			</ul>
			<p>  We developed the site in Google Chrome because we were most productive with their development tools.</p>
	</div>
</body>
</html>